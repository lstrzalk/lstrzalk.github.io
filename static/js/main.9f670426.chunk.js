(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{109:function(e,t,a){e.exports=a(144)},114:function(e,t,a){},115:function(e,t,a){},120:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var i,n,s=a(0),r=a.n(s),l=a(11),o=a.n(l),c=(a(114),a(97)),m=a(16),b=a(59),u=a(94),p=a(96),d=a(98),y=(a(115),a(70)),E=a(197),O=a(201),C=a(200),h=a(196),f=a(198),R=a(199),A=a(75),_={FEVER:"FEVER",COUGH:"COUGH",BREATHING_PROBLEM:"BREATHING_PROBLEM",CLOSE_CONTACT:"CLOSE_CONTACT",COMING_FROM_ABROAD:"COMING_FROM_ABROAD"},v=a(194),N=a(195),g=a(77),B=a.n(g),T=a(78),G=a.n(T),I=a(202),M=a(79),S=a.n(M),k=a(14),F=a(216),H=a(189),w=a(190),x=a(193),j=a(148),D=a(191),L=a(192),P=a(214),V=a(213),U=(i={},Object(k.a)(i,_.FEVER,"Fever"),Object(k.a)(i,_.COUGH,"Cough"),Object(k.a)(i,_.BREATHING_PROBLEM,"Difficulty with breathing"),Object(k.a)(i,_.COMING_FROM_ABROAD,"Return from Abroad"),Object(k.a)(i,_.CLOSE_CONTACT,"Close contact with infected person"),i),z={id:"",symptoms:(n={},Object(k.a)(n,_.FEVER,!1),Object(k.a)(n,_.COUGH,!1),Object(k.a)(n,_.BREATHING_PROBLEM,!1),Object(k.a)(n,_.COMING_FROM_ABROAD,!1),Object(k.a)(n,_.CLOSE_CONTACT,!1),n),createNext:!1},K=function(e){var t=e.open,a=e.handleClose,i=r.a.useState(z),n=Object(y.a)(i,2),s=n[0],l=n[1];return r.a.createElement(F.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(H.a,{id:"form-dialog-title"},"Craete new case"),r.a.createElement(w.a,null,r.a.createElement(D.a,{column:!0},r.a.createElement(V.a,{label:"id",variant:"outlined",onChange:function(e){l(Object(m.a)({},s,{id:e.target.value}))},value:s.id,required:!0}),Object.keys(_).map((function(e){return r.a.createElement(L.a,{key:e,control:r.a.createElement(P.a,{checked:s.symptoms[e],onChange:(t=e,function(){l(Object(m.a)({},s,{symptoms:Object(m.a)({},s.symptoms,Object(k.a)({},t,!s.symptoms[t]))}))}),name:U[e]}),label:U[e]});var t})))),r.a.createElement(x.a,null,r.a.createElement(j.a,{onClick:function(){a({close:!0})},color:"secondary"},"Close"),r.a.createElement(L.a,{control:r.a.createElement(P.a,{checked:s.createNext,onChange:function(){l(Object(m.a)({},s,{createNext:!s.createNext}))},color:"secondary"}),label:"Create next case"}),r.a.createElement(j.a,{onClick:function(){s.createNext?(a({close:!1,values:{id:s.id,symptoms:s.symptoms}}),l(Object(m.a)({},z,{createNext:!0}))):a({close:!0,values:{id:s.id,symptoms:s.symptoms}})},color:"primary",disabled:!s.id},"Create")))},W=function(e){return e?r.a.createElement(v.a,{style:{color:B.a[500]}}):r.a.createElement(N.a,{style:{color:G.a[500]}})},J=function(e){var t=e.cases,a=e.addCase,i=e.addDemoCases,n=r.a.useState({newCaseModal:!1}),s=Object(y.a)(n,2),l=s[0],o=s[1],c=function(){o({newCaseModal:!0})};return r.a.createElement("div",null,r.a.createElement(K,{open:l.newCaseModal,handleClose:function(e){var t=e.close,i=e.values;o({newCaseModal:!t}),i&&a({id:i.id,symptoms:Object.keys(i.symptoms).filter((function(e){return i.symptoms[e]}))})}}),!!t.length&&r.a.createElement("div",null,r.a.createElement(h.a,{component:A.a},r.a.createElement(E.a,{"aria-label":"simple table"},r.a.createElement(f.a,null,r.a.createElement(R.a,null,r.a.createElement(C.a,null," ",r.a.createElement("b",null,"id")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Fever")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Cough")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Difficulty with breathing")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Close contact with infected person")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Return from Abroad")),r.a.createElement(C.a,{align:"right"},r.a.createElement("b",null,"Probability")))),r.a.createElement(O.a,null,t.map((function(e){return r.a.createElement(R.a,{key:e.id},r.a.createElement(C.a,{component:"th",scope:"row"},e.id),r.a.createElement(C.a,{align:"right"},W(e.symptoms.includes(_.FEVER))),r.a.createElement(C.a,{align:"right"},W(e.symptoms.includes(_.COUGH))),r.a.createElement(C.a,{align:"right"},W(e.symptoms.includes(_.BREATHING_PROBLEM))),r.a.createElement(C.a,{align:"right"},W(e.symptoms.includes(_.CLOSE_CONTACT))),r.a.createElement(C.a,{align:"right"},W(e.symptoms.includes(_.COMING_FROM_ABROAD))),r.a.createElement(C.a,{align:"right"},(100*e.probability).toFixed(2),"%"))}))))),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end",margin:"16px 0"}},r.a.createElement(I.a,{variant:"extended",style:{margin:5},onClick:i},"Load example cases"),r.a.createElement(I.a,{onClick:c},r.a.createElement(S.a,null)))),!t.length&&r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},r.a.createElement(j.a,{size:"large",color:"primary",variant:"contained",onClick:c,startIcon:r.a.createElement(S.a,null)},"Add first case")))},q=a(212),$=a(203),Q=(a(120),a(81)),X=a(204),Y=a(205),Z=a(206),ee=a(208),te=a(209),ae=a(210),ie=a(207);function ne(e){e.sort((function(e,t){return e.probability<t.probability?1:e.probability>t.probability?-1:0}));for(var t=new le,a=function(e){for(var t=[new ce(.306,1,1),new ce(.124,.306,3),new ce(.066,.124,4),new ce(.042,.066,5),new ce(.029,.042,6),new ce(.021,.029,7),new ce(.016,.021,8),new ce(.013,.016,9),new ce(.011,.013,10),new ce(.009,.011,11),new ce(.007,.009,12),new ce(.006,.007,13),new ce(.005,.006,15),new ce(.004,.005,16),new ce(.003,.004,19),new ce(.002,.003,23),new ce(0,.002,32)],a=0;a<t.length;a++){var i=t[a];if(i.isInRange(e.probability))return i.bestBucketSize}return console.error("The sample probability is out of range! "+e.probability),1}(e[0]),i=0;i<e.length;i++){var n=e[i];a>0&&(t.samples.push(n),t.reverseProbability*=1-n.probability,a--)}return t.probability=1-t.reverseProbability,t}function se(e){for(var t=0,a=0;a<e.length;a++)t+=1,e[a].samples.length>1&&(t+=e[a].probability*e[a].samples.length);return Math.round(t)}var re=0,le=function e(){Object(b.a)(this,e),this.id=++re,this.probability=0,this.reverseProbability=1,this.samples=[],this.bucketStatus=oe.NOT_CHECKED},oe={POSITIVE:0,NEGATIVE:1,NOT_CHECKED:3},ce=function(){function e(e,t,a){void 0===this.minimum&&(this.minimum=0),void 0===this.maximum&&(this.maximum=0),void 0===this.bestBucketSize&&(this.bestBucketSize=0),this.minimum=e,this.maximum=t,this.bestBucketSize=a}return e.prototype.isInRange=function(e){return this.minimum<=e&&e<this.maximum},e}();ce.__class="BucketProbabilityRange";var me=function(e){var t=e.buckets,a=e.estimatedNumberOfTests,i=e.setBucketStatus;return r.a.createElement("div",null,r.a.createElement(Q.a,{variant:"h4",style:{marginBottom:20}},"Estimated number of tests: ",a),r.a.createElement($.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:4},t.map((function(e,t){return r.a.createElement($.a,{item:!0,key:t},r.a.createElement(A.a,{elevation:0,className:"bucket"},r.a.createElement(Q.a,{variant:"h5",component:"h2"},"#",e.id),r.a.createElement(Q.a,{color:"textSecondary"},"Probability: ",(100*e.probability).toFixed(2),"%"),r.a.createElement($.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:1,style:{padding:"8px 0"}},e.samples.map((function(e){return r.a.createElement($.a,{item:!0,key:e.id},r.a.createElement(X.a,{className:"sampleCard"},r.a.createElement(Y.a,null,r.a.createElement(Q.a,{variant:"h5",component:"h3"},r.a.createElement(Z.a,null,e.id)),r.a.createElement(Q.a,{color:"textSecondary"},"Probability: ",(100*e.probability).toFixed(2),"%"))))}))),r.a.createElement(ie.a,{orientation:"vertical",fullWidth:!0,disableRipple:!0,disableElevation:!0,disableFocusRipple:!0,size:"small"},r.a.createElement(j.a,{variant:e.status===oe.POSITIVE?"contained":"outlined",color:e.status===oe.POSITIVE?"primary":"default",startIcon:r.a.createElement(ee.a,null),onClick:function(){return i(e.id,oe.POSITIVE)}}," No Virus "),r.a.createElement(j.a,{variant:e.status===oe.NEGATIVE?"contained":"outlined",color:e.status===oe.NEGATIVE?"primary":"default",startIcon:r.a.createElement(te.a,null),onClick:function(){return i(e.id,oe.NEGATIVE)}}," Virus found "),r.a.createElement(j.a,{variant:e.status===oe.NOT_CHECKED?"contained":"outlined",color:e.status===oe.NOT_CHECKED?"primary":"default",startIcon:r.a.createElement(ae.a,null),onClick:function(){return i(e.id,oe.NOT_CHECKED)}}," Not tested "))))}))))},be=a(95),ue=a.n(be),pe=a(211),de=a(80),ye=a.n(de),Ee=[{id:1,symptoms:[],probability:.02},{id:2,symptoms:[_.COUGH],probability:.05},{id:3,symptoms:[_.BREATHING_PROBLEM,_.FEVER],probability:.09},{id:4,symptoms:[_.CLOSE_CONTACT,_.COMING_FROM_ABROAD],probability:.19},{id:5,symptoms:[_.COUGH,_.COMING_FROM_ABROAD],probability:.12},{id:6,symptoms:[_.COUGH,_.COMING_FROM_ABROAD],probability:.15},{id:7,symptoms:[],probability:.02},{id:8,symptoms:[],probability:.02},{id:9,symptoms:[],probability:.02},{id:10,symptoms:[_.COUGH,_.BREATHING_PROBLEM,_.FEVER,_.COMING_FROM_ABROAD,_.CLOSE_CONTACT],probability:.29},{id:11,symptoms:[],probability:.02},{id:12,symptoms:[],probability:.02},{id:13,symptoms:[_.CLOSE_CONTACT],probability:.02},{id:14,symptoms:[],probability:.02},{id:15,symptoms:[],probability:.02},{id:16,symptoms:[],probability:.02},{id:17,symptoms:[_.COUGH,_.BREATHING_PROBLEM],probability:.05},{id:18,symptoms:[_.COUGH,_.FEVER],probability:.05},{id:19,symptoms:[],probability:.02},{id:20,symptoms:[],probability:.02},{id:21,symptoms:[],probability:.02},{id:22,symptoms:[],probability:.02},{id:23,symptoms:[],probability:.02},{id:24,symptoms:[_.BREATHING_PROBLEM,_.FEVER],probability:.09},{id:25,symptoms:[_.CLOSE_CONTACT,_.COMING_FROM_ABROAD],probability:.19},{id:26,symptoms:[_.COUGH,_.COMING_FROM_ABROAD],probability:.12},{id:27,symptoms:[],probability:.02},{id:28,symptoms:[_.COUGH,_.BREATHING_PROBLEM,_.FEVER,_.COMING_FROM_ABROAD],probability:.19},{id:29,symptoms:[],probability:.02},{id:30,symptoms:[],probability:.02},{id:31,symptoms:[],probability:.02},{id:32,symptoms:[],probability:.02},{id:33,symptoms:[_.COUGH],probability:.05},{id:34,symptoms:[_.CLOSE_CONTACT],probability:.1},{id:35,symptoms:[_.COUGH],probability:.05},{id:36,symptoms:[_.BREATHING_PROBLEM,_.FEVER],probability:.09},{id:37,symptoms:[_.CLOSE_CONTACT,_.COMING_FROM_ABROAD],probability:.19},{id:38,symptoms:[],probability:.02},{id:39,symptoms:[],probability:.02},{id:40,symptoms:[],probability:.02},{id:41,symptoms:[],probability:.02},{id:42,symptoms:[],probability:.02},{id:43,symptoms:[],probability:.02},{id:44,symptoms:[],probability:.02},{id:45,symptoms:[_.COUGH,_.BREATHING_PROBLEM,_.FEVER,_.COMING_FROM_ABROAD,_.CLOSE_CONTACT],probability:.29},{id:46,symptoms:[_.COUGH,_.FEVER,_.COMING_FROM_ABROAD,_.CLOSE_CONTACT],probability:.24},{id:47,symptoms:[],probability:.02},{id:48,symptoms:[],probability:.02},{id:49,symptoms:[],probability:.02},{id:50,symptoms:[],probability:.02}],Oe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(b.a)(this,a),(i=t.call(this,e)).state={currentStep:"CASES",cases:[{id:1,symptoms:[],probability:.05},{id:2,symptoms:[_.COUGH],probability:.1},{id:3,symptoms:[_.BREATHING_PROBLEM,_.FEVER],probability:.3},{id:4,symptoms:[_.CLOSE_CONTACT,_.COMING_FROM_ABROAD],probability:.2},{id:5,symptoms:[_.COUGH,_.COMING_FROM_ABROAD],probability:.04},{id:6,symptoms:[_.COUGH,_.COMING_FROM_ABROAD],probability:.4}],buckets:[]},i}return Object(u.a)(a,[{key:"addDemoCases",value:function(){this.setState((function(e,t){return Object(m.a)({},e,{cases:Ee})}))}},{key:"addCase",value:function(e){var t=e.id,a=e.symptoms,i=ye()(a);this.setState((function(e,n){var s=[].concat(Object(c.a)(e.cases),[{id:t,symptoms:a,probability:i}]);return Object(m.a)({},e,{cases:s})}))}},{key:"updateCase",value:function(e){var t=e.id,a=e.symptoms,i=ye()(a);this.setState((function(e,n){var s=e.cases.findIndex((function(e){return e.id===t})),r=e.cases.splice(s,1);return r.push({id:t,symptoms:a,probability:i}),Object(m.a)({},e,{cases:r})}))}},{key:"changeStage",value:function(e){this.setState((function(t,a){return Object(m.a)({},t,{currentStep:e})}))}},{key:"calculateBuckets",value:function(){var e=this,t=function(e){for(var t=e.slice(0),a=[];0!==t.length;){var i=ne(t);a.push(i),i.samples.forEach((function(e){t.splice(t.indexOf(e),1)}))}return a}(this.state.cases);this.setState((function(e,a){return Object(m.a)({},e,{buckets:t})}),(function(){return e.changeStage("BUCKETS")}))}},{key:"setBucketStatus",value:function(e,t){this.setState((function(a,i){var n=a.buckets.slice(0);return n.find((function(t){return t.id===e})).status=t,Object(m.a)({},a,{buckets:n})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(ue.a,{position:"static"},r.a.createElement(pe.a,null,r.a.createElement(Q.a,{variant:"h6"},r.a.createElement("b",null,"Covictory"))))),r.a.createElement("main",null,r.a.createElement(q.a,null,"CASES"===this.state.currentStep&&r.a.createElement(J,{cases:this.state.cases,addCase:this.addCase.bind(this),addDemoCases:this.addDemoCases.bind(this)}),!!this.state.cases.length&&"CASES"===this.state.currentStep&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"16px"}},r.a.createElement(j.a,{size:"large",color:"primary",variant:"contained",onClick:this.calculateBuckets.bind(this)},"Calculate buckets")),"BUCKETS"===this.state.currentStep&&r.a.createElement(me,{buckets:this.state.buckets,estimatedNumberOfTests:se(this.state.buckets),setBucketStatus:this.setBucketStatus.bind(this)}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t){e.exports=function(e){var t=.02;return e.indexOf("FEVER")>-1&&(t+=.02),e.indexOf("COUGH")>-1&&(t+=.03),e.indexOf("BREATHING_PROBLEM")>-1&&(t+=.05),e.indexOf("CLOSE_CONTACT")>-1&&(t+=.1),e.indexOf("COMING_FROM_ABROAD")>-1&&(t+=.07),e.indexOf("PREVIOUS_POSITIVE")>-1&&(t=.9),t.toFixed(3),t}}},[[109,1,2]]]);
//# sourceMappingURL=main.9f670426.chunk.js.map