(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{63:function(e,t){e.exports=function(e){var t=.02;return e.indexOf("FEVER")>-1&&(t+=.02),e.indexOf("COUGH")>-1&&(t+=.03),e.indexOf("BREATHING_PROBLEM")>-1&&(t+=.05),e.indexOf("CLOSE_CONTACT")>-1&&(t+=.1),e.indexOf("COMING_FROM_ABROAD")>-1&&(t+=.07),e.indexOf("PREVIOUS_POSITIVE")>-1&&(t=.9),t.toFixed(3),t}},77:function(e,t,a){e.exports=a(89)},82:function(e,t,a){},83:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n,i,r=a(0),c=a.n(r),o=a(10),l=a.n(o),s=(a(82),a(15)),m=a(65),u=a(39),b=a(60),d=a(64),p=a(66),E=(a(83),a(49)),O=a(145),y=a(149),h=a(148),f=a(144),C=a(146),g=a(147),v=a(132),R={FEVER:"FEVER",COUGH:"COUGH",BREATHING_PROBLEM:"BREATHING_PROBLEM",CLOSE_CONTACT:"CLOSE_CONTACT",COMING_FROM_ABROAD:"COMING_FROM_ABROAD"},w=a(142),A=a(143),k=a(45),B=a.n(k),_=a(46),S=a.n(_),j=a(150),N=a(62),M=a.n(N),x=a(13),G=a(156),T=a(136),I=a(137),F=a(140),H=a(141),P=a(138),L=a(139),D=a(154),U=a(153),V=(n={},Object(x.a)(n,R.FEVER,"Fever"),Object(x.a)(n,R.COUGH,"Cough"),Object(x.a)(n,R.BREATHING_PROBLEM,"Difficulty with breathing"),Object(x.a)(n,R.COMING_FROM_ABROAD,"Return from Abroad"),Object(x.a)(n,R.CLOSE_CONTACT,"Close contact with infected person"),n),z={id:"",symptoms:(i={},Object(x.a)(i,R.FEVER,!1),Object(x.a)(i,R.COUGH,!1),Object(x.a)(i,R.BREATHING_PROBLEM,!1),Object(x.a)(i,R.COMING_FROM_ABROAD,!1),Object(x.a)(i,R.CLOSE_CONTACT,!1),i),createNext:!1},J=function(e){var t=e.open,a=e.handleClose,n=c.a.useState(z),i=Object(E.a)(n,2),r=i[0],o=i[1];return c.a.createElement(G.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Craete new case"),c.a.createElement(I.a,null,c.a.createElement(P.a,{column:!0},c.a.createElement(U.a,{label:"id",variant:"outlined",onChange:function(e){o(Object(s.a)({},r,{id:e.target.value}))},value:r.id,required:!0}),Object.keys(R).map((function(e){return c.a.createElement(L.a,{key:e,control:c.a.createElement(D.a,{checked:r.symptoms[e],onChange:(t=e,function(){o(Object(s.a)({},r,{symptoms:Object(s.a)({},r.symptoms,Object(x.a)({},t,!r.symptoms[t]))}))}),name:V[e]}),label:V[e]});var t})))),c.a.createElement(F.a,null,c.a.createElement(H.a,{onClick:function(){a({close:!0})},color:"secondary"},"Close"),c.a.createElement(L.a,{control:c.a.createElement(D.a,{checked:r.createNext,onChange:function(){o(Object(s.a)({},r,{createNext:!r.createNext}))},color:"secondary"}),label:"Create next case"}),c.a.createElement(H.a,{onClick:function(){r.createNext?(a({close:!1,values:{id:r.id,symptoms:r.symptoms}}),o(Object(s.a)({},z,{createNext:!0}))):a({close:!0,values:{id:r.id,symptoms:r.symptoms}})},color:"primary",disabled:!r.id},"Create")))},W=function(e){return e?c.a.createElement(w.a,{style:{color:B.a[500]}}):c.a.createElement(A.a,{style:{color:S.a[500]}})},q=function(e){var t=e.cases,a=e.addCase,n=e.calculateBuckets,i=c.a.useState({newCaseModal:!1}),r=Object(E.a)(i,2),o=r[0],l=r[1];return c.a.createElement("div",null,c.a.createElement(f.a,{component:v.a},c.a.createElement(O.a,{"aria-label":"simple table"},c.a.createElement(C.a,null,c.a.createElement(g.a,null,c.a.createElement(h.a,null,"Sample ID"),c.a.createElement(h.a,{align:"right"},"Fever"),c.a.createElement(h.a,{align:"right"},"Cough"),c.a.createElement(h.a,{align:"right"},"Difficulty with breathing"),c.a.createElement(h.a,{align:"right"},"Close contact with infected person"),c.a.createElement(h.a,{align:"right"},"Return from Abroad"),c.a.createElement(h.a,{align:"right"},"Probability"))),c.a.createElement(y.a,null,t.map((function(e){return c.a.createElement(g.a,{key:e.id},c.a.createElement(h.a,{component:"th",scope:"row"},e.id),c.a.createElement(h.a,{align:"right"},W(e.symptoms.includes(R.FEVER))),c.a.createElement(h.a,{align:"right"},W(e.symptoms.includes(R.COUGH))),c.a.createElement(h.a,{align:"right"},W(e.symptoms.includes(R.BREATHING_PROBLEM))),c.a.createElement(h.a,{align:"right"},W(e.symptoms.includes(R.CLOSE_CONTACT))),c.a.createElement(h.a,{align:"right"},W(e.symptoms.includes(R.COMING_FROM_ABROAD))),c.a.createElement(h.a,{align:"right"},(100*e.probability).toFixed(2),"%"))}))))),c.a.createElement(j.a,{"aria-label":"Dodaj nowy przypadek",onClick:function(){l({newCaseModal:!0})}},c.a.createElement(M.a,null)),c.a.createElement(J,{open:o.newCaseModal,handleClose:function(e){var t=e.close,n=e.values;l({newCaseModal:!t}),n&&a({id:n.id,symptoms:Object.keys(n.symptoms).filter((function(e){return n.symptoms[e]}))})}}),c.a.createElement("div",{style:{marginTop:20}},c.a.createElement(H.a,{variant:"contained",color:"primary",onClick:n},"Calculate buckets")))},K=a(152),$=a(151),Q=a(67),X=function(e){var t=e.buckets;return c.a.createElement("div",null,c.a.createElement($.a,{container:!0,spacing:2,style:{margin:50}},c.a.createElement($.a,{item:!0,xs:12},c.a.createElement($.a,{container:!0,justify:"center",spacing:2},t.map((function(e){return c.a.createElement($.a,{key:e.id,item:!0},c.a.createElement(v.a,{style:{height:240,width:100,marginBottom:10}},c.a.createElement($.a,{container:!0,spacing:2,direction:"column"},c.a.createElement(Q.a,{variant:"h5",component:"h2"},"#",e.id),c.a.createElement(Q.a,{style:{marginBottom:12},color:"textSecondary"},"P: ",(100*e.probability).toFixed(2),"%"),e.samples.map((function(e){return c.a.createElement($.a,{key:e.id,item:!0},"Sample #",e.id,c.a.createElement(Q.a,{color:"textSecondary"},"P: ",(100*e.probability).toFixed(2),"%"))})))),c.a.createElement(w.a,{style:{color:B.a[500],cursor:"pointer"}}),c.a.createElement(A.a,{style:{color:S.a[500],cursor:"pointer"}}))}))))))},Y=a(63),Z=a.n(Y);function ee(e){e.sort((function(e,t){return e.probability<t.probability?1:e.probability>t.probability?-1:0}));var t=new ae;console.log("samples"),console.log(e[0]);for(var a=function(e){for(var t=[new ne(.306,1,1),new ne(.124,.306,3),new ne(.066,.124,4),new ne(.042,.066,5),new ne(.029,.042,6),new ne(.021,.029,7),new ne(.016,.021,8),new ne(.013,.016,9),new ne(.011,.013,10),new ne(.009,.011,11),new ne(.007,.009,12),new ne(.006,.007,13),new ne(.005,.006,15),new ne(.004,.005,16),new ne(.003,.004,19),new ne(.002,.003,23),new ne(0,.002,32)],a=0;a<t.length;a++){var n=t[a];if(n.isInRange(e.probability))return n.bestBucketSize}return console.error("The sample probability is out of range! "+e.probability),1}(e[0]),n=0;n<e.length;n++){var i=e[n];a>0&&(t.samples.push(i),t.reverseProbability*=1-i.probability,a--)}return t.probability=1-t.reverseProbability,t}var te=0,ae=function e(){Object(u.a)(this,e),this.id=++te,this.probability=0,this.reverseProbability=1,this.samples=[]},ne=function(){function e(e,t,a){void 0===this.minimum&&(this.minimum=0),void 0===this.maximum&&(this.maximum=0),void 0===this.bestBucketSize&&(this.bestBucketSize=0),this.minimum=e,this.maximum=t,this.bestBucketSize=a}return e.prototype.isInRange=function(e){return this.minimum<=e&&e<this.maximum},e}();ne.__class="BucketProbabilityRange";var ie=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentStep:"CASES",cases:[{id:1,symptoms:[],probability:.05},{id:2,symptoms:[R.COUGH],probability:.1},{id:3,symptoms:[R.BREATHING_PROBLEM,R.FEVER],probability:.3},{id:4,symptoms:[R.CLOSE_CONTACT,R.COMING_FROM_ABROAD],probability:.2},{id:5,symptoms:[R.COUGH,R.COMING_FROM_ABROAD],probability:.04},{id:6,symptoms:[R.COUGH,R.COMING_FROM_ABROAD],probability:.4}],buckets:[]},n}return Object(b.a)(a,[{key:"addCase",value:function(e){var t=e.id,a=e.symptoms;console.log(t),console.log(a);var n=Z()(a);this.setState((function(e,i){var r=[].concat(Object(m.a)(e.cases),[{id:t,symptoms:a,probability:n}]);return Object(s.a)({},e,{cases:r})}))}},{key:"updateCase",value:function(e){var t=e.id,a=e.symptoms;this.setState((function(e,n){var i=e.cases.findIndex((function(e){return e.id===t})),r=e.cases.splice(i,1);return r.push({id:t,symptoms:a,probability:50}),Object(s.a)({},e,{cases:r})}))}},{key:"changeStage",value:function(e){this.setState((function(t,a){return Object(s.a)({},t,{currentStep:e})}))}},{key:"calculateBuckets",value:function(){var e=this,t=function(e){for(var t=e.slice(0),a=[];0!==t.length;){var n=ee(t);a.push(n),n.samples.forEach((function(e){t.splice(t.indexOf(e),1)}))}return a}(this.state.cases);console.log(t),this.setState((function(e,a){return Object(s.a)({},e,{buckets:t})}),(function(){return e.changeStage("BUCKETS")}))}},{key:"render",value:function(){return"CASES"===this.state.currentStep?c.a.createElement(K.a,{className:"App"},c.a.createElement(q,{cases:this.state.cases,addCase:this.addCase.bind(this),calculateBuckets:this.calculateBuckets.bind(this)})):c.a.createElement(K.a,{className:"App"},c.a.createElement(X,{buckets:this.state.buckets}))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.9e2cdf1d.chunk.js.map