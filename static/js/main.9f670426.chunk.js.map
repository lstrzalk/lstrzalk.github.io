{"version":3,"sources":["data.js","cases/NewCase.jsx","cases/Cases.jsx","sample-allocation/allocate-samples.js","buckets/Buckets.jsx","demoCases.js","App.jsx","serviceWorker.js","index.js","risk.js"],"names":["SYMPTOMS","FEVER","COUGH","BREATHING_PROBLEM","CLOSE_CONTACT","COMING_FROM_ABROAD","SYMPTOM_NAMES","initialState","id","symptoms","createNext","NewCase","open","handleClose","React","useState","values","setValues","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","FormGroup","column","TextField","label","variant","onChange","event","target","value","required","Object","keys","map","symptomName","FormControlLabel","key","control","Checkbox","checked","symptom","name","DialogActions","Button","onClick","close","color","disabled","symptomOccurred","occurred","CheckCircleOutline","style","green","HighlightOff","red","Cases","cases","addCase","addDemoCases","newCaseModal","openModal","filter","length","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","row","scope","includes","probability","toFixed","display","width","justifyContent","margin","Fab","size","startIcon","assignNextBucket","samples","sort","first","second","bucket","Bucket","freeCapacity","sample","bucketRanges","BucketProbabilityRange","i","t","isInRange","bestBucketSize","console","error","findBestBucketCapacity","s","push","reverseProbability","estimateNumberOfTests","buckets","result","Math","round","numberOfAllBuckets","bucketStatus","BucketStatus","NOT_CHECKED","POSITIVE","NEGATIVE","minimumm","maximum","undefined","this","minimum","prototype","p","Buckets","estimatedNumberOfTests","setBucketStatus","Typography","marginBottom","Grid","container","direction","justify","alignItems","spacing","index","item","elevation","className","padding","Card","CardContent","Link","ButtonGroup","orientation","fullWidth","disableRipple","disableElevation","disableFocusRipple","status","SentimentVerySatisfied","SentimentVeryDissatisfied","HelpOutline","demoCases","App","props","state","currentStep","setState","calculateRisk","caseIndex","findIndex","it","splice","samplesParam","slice","forEach","indexOf","allocateSamples","changeStage","bucketId","find","position","Toolbar","Container","bind","calculateBuckets","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports","risk"],"mappings":"4YAIaA,EAAW,CACtBC,MAAO,QACPC,MAAO,QACPC,kBAAmB,oBACnBC,cAAe,gBACfC,mBAAoB,sB,uKCGhBC,GAAa,mBAChBN,EAASC,MAAQ,SADD,cAEhBD,EAASE,MAAQ,SAFD,cAGhBF,EAASG,kBAAoB,6BAHb,cAIhBH,EAASK,mBAAqB,sBAJd,cAKhBL,EAASI,cAAgB,sCALT,GAQbG,EAAe,CACnBC,GAAI,GACJC,UAAQ,mBACLT,EAASC,OAAQ,GADZ,cAELD,EAASE,OAAQ,GAFZ,cAGLF,EAASG,mBAAoB,GAHxB,cAILH,EAASK,oBAAqB,GAJzB,cAKLL,EAASI,eAAgB,GALpB,GAORM,YAAY,GAEDC,EAAU,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAAkB,EACpBC,IAAMC,SAASR,GADK,mBACzCS,EADyC,KACjCC,EADiC,KA0ChD,OACE,kBAACC,EAAA,EAAD,CAAQN,KAAMA,EAAMO,QAASN,EAAaO,kBAAgB,qBACxD,kBAACC,EAAA,EAAD,CAAab,GAAG,qBAAhB,mBACA,kBAACc,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAWC,QAAM,GAEf,kBAACC,EAAA,EAAD,CACEC,MAAM,KACNC,QAAQ,WACRC,SA/BO,SAACC,GAChBZ,EAAU,eAAKD,EAAN,CAAcR,GAAIqB,EAAMC,OAAOC,UA+BhCA,MAAOf,EAAOR,GACdwB,UAAU,IAGVC,OAAOC,KAAKlC,GAAUmC,KAAI,SAAAC,GAAW,OACnC,kBAACC,EAAA,EAAD,CACEC,IAAKF,EACLG,QAAS,kBAACC,EAAA,EAAD,CAAUC,QAASzB,EAAOP,SAAS2B,GAAcR,UAzDlDc,EAyD0EN,EAzD/D,WAC/BnB,EAAU,eACLD,EADI,CAEPP,SAAS,eAEFO,EAAOP,SAFN,eAGHiC,GAAW1B,EAAOP,SAASiC,UAmD0EC,KAAMrC,EAAc8B,KACpHV,MAAOpB,EAAc8B,KA1Db,IAAAM,OAiElB,kBAACE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQC,QA/BM,WAClBjC,EAAY,CAAEkC,OAAO,KA8BaC,MAAM,aAApC,SAGA,kBAACX,EAAA,EAAD,CACEE,QAAS,kBAACC,EAAA,EAAD,CAAUC,QAASzB,EAAON,WAAYkB,SA3D9B,WACvBX,EAAU,eACLD,EADI,CAEPN,YAAaM,EAAON,eAwD2DsC,MAAO,cAClFtB,MAAM,qBAER,kBAACmB,EAAA,EAAD,CAAQC,QA/CQ,WACf9B,EAAON,YAGVG,EAAY,CAAEkC,OAAO,EAAO/B,OAAQ,CAAER,GAAIQ,EAAOR,GAAIC,SAAUO,EAAOP,YAPxEQ,EAAU,eAAKV,EAAN,CAAoBG,YAAY,MAKvCG,EAAY,CAAEkC,OAAO,EAAM/B,OAAQ,CAAER,GAAIQ,EAAOR,GAAIC,SAAUO,EAAOP,aA6CnCuC,MAAM,UAAUC,UAAWjC,EAAOR,IAAlE,aCzFF0C,EAAkB,SAAAC,GAAQ,OAAIA,EAClC,kBAACC,EAAA,EAAD,CAAoBC,MAAO,CAAEL,MAAOM,IAAM,QAAY,kBAACC,EAAA,EAAD,CAAcF,MAAO,CAAEL,MAAOQ,IAAI,SAE7EC,EAAQ,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAAmB,EAC7B9C,IAAMC,SAAS,CAAE8C,cAAc,IADF,mBAClD7C,EADkD,KAC1CC,EAD0C,KAGnD6C,EAAY,WAChB7C,EAAU,CAAE4C,cAAc,KAU5B,OACE,6BACE,kBAAC,EAAD,CAASjD,KAAMI,EAAO6C,aAAchD,YATrB,SAAC,GAAuB,IAArBkC,EAAoB,EAApBA,MAAO/B,EAAa,EAAbA,OAC3BC,EAAU,CAAE4C,cAAed,IACvB/B,GACF2C,EAAQ,CAAEnD,GAAIQ,EAAOR,GAAIC,SAAUwB,OAAOC,KAAKlB,EAAOP,UAAUsD,QAAO,SAAAzB,GAAG,OAAItB,EAAOP,SAAS6B,aAO3FoB,EAAMM,QAAU,6BACjB,kBAACC,EAAA,EAAD,CAAgBC,UAAWC,KACzB,kBAACC,EAAA,EAAD,CAAOC,aAAW,gBAChB,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,SAAY,kCACZ,kBAACA,EAAA,EAAD,CAAWC,MAAM,SAAQ,qCACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,qCACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,yDACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,kEACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,kDACzB,kBAACD,EAAA,EAAD,CAAWC,MAAM,SAAQ,6CAG7B,kBAACC,EAAA,EAAD,KACGhB,EAAMvB,KAAI,SAACwC,GAAD,OACT,kBAACJ,EAAA,EAAD,CAAUjC,IAAKqC,EAAInE,IACjB,kBAACgE,EAAA,EAAD,CAAWN,UAAU,KAAKU,MAAM,OAC7BD,EAAInE,IAEP,kBAACgE,EAAA,EAAD,CAAWC,MAAM,SAASvB,EAAgByB,EAAIlE,SAASoE,SAAS7E,EAASC,SACzE,kBAACuE,EAAA,EAAD,CAAWC,MAAM,SAASvB,EAAgByB,EAAIlE,SAASoE,SAAS7E,EAASE,SACzE,kBAACsE,EAAA,EAAD,CAAWC,MAAM,SAASvB,EAAgByB,EAAIlE,SAASoE,SAAS7E,EAASG,qBACzE,kBAACqE,EAAA,EAAD,CAAWC,MAAM,SAASvB,EAAgByB,EAAIlE,SAASoE,SAAS7E,EAASI,iBACzE,kBAACoE,EAAA,EAAD,CAAWC,MAAM,SAASvB,EAAgByB,EAAIlE,SAASoE,SAAS7E,EAASK,sBACzE,kBAACmE,EAAA,EAAD,CAAWC,MAAM,UAA0B,IAAhBE,EAAIG,aAAiBC,QAAQ,GAAxD,YAMV,yBAAK1B,MAAO,CAAE2B,QAAS,OAAQC,MAAO,OAAQC,eAAgB,WAAYC,OAAQ,WAChF,kBAACC,EAAA,EAAD,CAAKzD,QAAQ,WAAW0B,MAAO,CAAC8B,OAAQ,GAAIrC,QAASc,GAArD,sBAGA,kBAACwB,EAAA,EAAD,CAAKtC,QAASgB,GACZ,kBAAC,IAAD,UAKJJ,EAAMM,QAAU,yBAAKX,MAAO,CAAE2B,QAAS,OAAQC,MAAO,OAAQC,eAAgB,WAC9E,kBAACrC,EAAA,EAAD,CAAQwC,KAAK,QAAQrC,MAAM,UAAUrB,QAAS,YAAamB,QAASgB,EAAWwB,UAAW,kBAAC,IAAD,OAA1F,qB,sGClER,SAASC,GAAiBC,GACtBA,EAAQC,MAAK,SAAUC,EAAOC,GAC1B,OAAOD,EAAMZ,YAAca,EAAOb,YAAc,EAC1CY,EAAMZ,YAAca,EAAOb,aAAe,EACtC,KAKd,IAFA,IAAIc,EAAS,IAAIC,GACbC,EAgBR,SAAgCC,GAoB5B,IAnBA,IAAMC,EAAe,CACjB,IAAIC,GAAuB,KAAO,EAAG,GACrC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,GACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,KAAO,KAAO,IACzC,IAAIA,GAAuB,EAAK,KAAO,KAElCC,EAAI,EAAGA,EAAIF,EAAahC,OAAQkC,IAAK,CAC1C,IAAIC,EAAIH,EAAaE,GACrB,GAAIC,EAAEC,UAAUL,EAAOjB,aACnB,OAAOqB,EAAEE,eAIjB,OADAC,QAAQC,MAAM,2CAA6CR,EAAOjB,aAC3D,EA3CY0B,CAAuBhB,EAAQ,IACzCU,EAAI,EAAGA,EAAIV,EAAQxB,OAAQkC,IAAK,CACrC,IAAIO,EAAIjB,EAAQU,GACZJ,EAAe,IACfF,EAAOJ,QAAQkB,KAAKD,GACpBb,EAAOe,oBAAsB,EAAIF,EAAE3B,YACnCgB,KAMR,OAFAF,EAAOd,YAAc,EAAIc,EAAOe,mBAEzBf,EAkCJ,SAASgB,GAAsBC,GAElC,IADA,IAAIC,EAAS,EACJZ,EAAI,EAAGA,EAAIW,EAAQ7C,OAAQkC,IAChCY,GAAU,EACND,EAAQX,GAAGV,QAAQxB,OAAS,IAC5B8C,GAAUD,EAAQX,GAAGpB,YAAc+B,EAAQX,GAAGV,QAAQxB,QAG9D,OAAO+C,KAAKC,MAAMF,GAiBtB,IAAIG,GAAqB,EAEnBpB,G,sCACFrF,KAAOyG,G,KACPnC,YAAc,E,KACd6B,mBAAqB,E,KACrBnB,QAAU,G,KACV0B,aAAeC,GAAaC,aAGnBD,GAAe,CACxBE,SAAU,EACVC,SAAU,EACVF,YAAa,GAGXnB,GAA0B,WAC5B,SAASA,EAAuBsB,EAAUC,EAASnB,QAC1BoB,IAAjBC,KAAKC,UACLD,KAAKC,QAAU,QACEF,IAAjBC,KAAKF,UACLE,KAAKF,QAAU,QACSC,IAAxBC,KAAKrB,iBACLqB,KAAKrB,eAAiB,GAC1BqB,KAAKC,QAAUJ,EACfG,KAAKF,QAAUA,EACfE,KAAKrB,eAAiBA,EAM1B,OAHAJ,EAAuB2B,UAAUxB,UAAY,SAAUyB,GACnD,OAAOH,KAAKC,SAAWE,GAAKA,EAAIH,KAAKF,SAElCvB,EAhBqB,GAkBhCA,GAAsB,QAAc,yBClH7B,IAAM6B,GAAU,SAAC,GAAD,IAAGjB,EAAH,EAAGA,QAASkB,EAAZ,EAAYA,uBAAwBC,EAApC,EAAoCA,gBAApC,OACrB,6BACE,kBAACC,EAAA,EAAD,CAAYtG,QAAQ,KAAK0B,MAAO,CAAC6E,aAAc,KAA/C,8BAC8BH,GAE9B,kBAACI,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,QAAQ,aACRC,WAAW,aACXC,QAAS,GAER3B,EAAQ1E,KAAI,SAACyD,EAAQ6C,GAAT,OAEX,kBAACN,EAAA,EAAD,CAAMO,MAAI,EAACpG,IAAKmG,GACd,kBAACtE,EAAA,EAAD,CAAOwE,UAAW,EAAGC,UAAW,UAC9B,kBAACX,EAAA,EAAD,CAAYtG,QAAQ,KAAKuC,UAAU,MAAnC,IACI0B,EAAOpF,IAEX,kBAACyH,EAAA,EAAD,CAAYjF,MAAM,iBAAlB,iBACsC,IAArB4C,EAAOd,aAAmBC,QAAQ,GADnD,KAGA,kBAACoD,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACVC,QAAQ,aACRC,WAAW,SACXC,QAAS,EACTnF,MAAO,CAAEwF,QAAS,UAEjBjD,EAAOJ,QAAQrD,KAAI,SAAC4D,GAAD,OAElB,kBAACoC,EAAA,EAAD,CAAMO,MAAI,EAACpG,IAAKyD,EAAOvF,IACrB,kBAACsI,EAAA,EAAD,CAAMF,UAAU,cACd,kBAACG,EAAA,EAAD,KACE,kBAACd,EAAA,EAAD,CAAYtG,QAAQ,KAAKuC,UAAU,MACjC,kBAAC8E,EAAA,EAAD,KAAOjD,EAAOvF,KAEhB,kBAACyH,EAAA,EAAD,CAAYjF,MAAM,iBAAlB,iBACsC,IAArB+C,EAAOjB,aAAmBC,QAAQ,GADnD,YAUV,kBAACkE,GAAA,EAAD,CACEC,YAAY,WACZC,WAAS,EACTC,eAAa,EACbC,kBAAgB,EAChBC,oBAAkB,EAClBjE,KAAK,SAEL,kBAACxC,EAAA,EAAD,CACElB,QAASiE,EAAO2D,SAAWpC,GAAaE,SAAW,YAAc,WACjErE,MAAO4C,EAAO2D,SAAWpC,GAAaE,SAAW,UAAY,UAC7D/B,UAAW,kBAACkE,GAAA,EAAD,MACX1G,QAAS,kBAAMkF,EAAgBpC,EAAOpF,GAAI2G,GAAaE,YAJzD,cAQA,kBAACxE,EAAA,EAAD,CACElB,QAASiE,EAAO2D,SAAWpC,GAAaG,SAAW,YAAc,WACjEtE,MAAO4C,EAAO2D,SAAWpC,GAAaG,SAAW,UAAY,UAC7DhC,UAAW,kBAACmE,GAAA,EAAD,MACX3G,QAAS,kBAAMkF,EAAgBpC,EAAOpF,GAAI2G,GAAaG,YAJzD,iBAOA,kBAACzE,EAAA,EAAD,CACElB,QAASiE,EAAO2D,SAAWpC,GAAaC,YAAc,YAAc,WACpEpE,MAAO4C,EAAO2D,SAAWpC,GAAaC,YAAc,UAAY,UAChE9B,UAAW,kBAACoE,GAAA,EAAD,MACX5G,QAAS,kBAAMkF,EAAgBpC,EAAOpF,GAAI2G,GAAaC,eAJzD,yB,kDClFDuC,GAAY,CACxB,CACCnJ,GAAI,EACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,CAACT,EAASE,OACpB4E,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,CAACT,EAASG,kBAAmBH,EAASC,OAChD6E,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,CAACT,EAASI,cAAeJ,EAASK,oBAC5CyE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,CAACT,EAASE,MAAOF,EAASK,oBACpCyE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,CAACT,EAASE,MAAOF,EAASK,oBACpCyE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,EACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASG,kBAAmBH,EAASC,MAAOD,EAASK,mBAAoBL,EAASI,eAC7G0E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASI,eACpB0E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASG,mBACpC2E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASC,OACpC6E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASG,kBAAmBH,EAASC,OAChD6E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASI,cAAeJ,EAASK,oBAC5CyE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASK,oBACpCyE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASG,kBAAmBH,EAASC,MAAOD,EAASK,oBAChFyE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,OACpB4E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASI,eACpB0E,YAAa,IAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,OACpB4E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASG,kBAAmBH,EAASC,OAChD6E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASI,cAAeJ,EAASK,oBAC5CyE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASG,kBAAmBH,EAASC,MAAOD,EAASK,mBAAoBL,EAASI,eAC7G0E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,CAACT,EAASE,MAAOF,EAASC,MAAOD,EAASK,mBAAoBL,EAASI,eACjF0E,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,KAEd,CACCtE,GAAI,GACJC,SAAU,GACVqE,YAAa,MCvGA8E,G,kDArIb,WAAaC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CACXC,YAAa,QACbrG,MAAO,CAAC,CACNlD,GAAI,EACJC,SAAU,GACVqE,YAAa,KAEb,CACEtE,GAAI,EACJC,SAAU,CAACT,EAASE,OACpB4E,YAAa,IAEf,CACEtE,GAAI,EACJC,SAAU,CAACT,EAASG,kBAAmBH,EAASC,OAChD6E,YAAa,IAEf,CACEtE,GAAI,EACJC,SAAU,CAACT,EAASI,cAAeJ,EAASK,oBAC5CyE,YAAa,IAEf,CACEtE,GAAI,EACJC,SAAU,CAACT,EAASE,MAAOF,EAASK,oBACpCyE,YAAa,KAEf,CACEtE,GAAI,EACJC,SAAU,CAACT,EAASE,MAAOF,EAASK,oBACpCyE,YAAa,KAGjB+B,QAAS,IAnCO,E,2DAwClBa,KAAKsC,UAAS,SAACF,EAAOD,GACpB,OAAO,eACFC,EADL,CAEEpG,MAAOiG,U,iCAKe,IAAjBnJ,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,SACPqE,EAAcmF,KAAcxJ,GAClCiH,KAAKsC,UAAS,SAACF,EAAOD,GACpB,IAAMnG,EAAK,sBAAOoG,EAAMpG,OAAb,CAAoB,CAAElD,KAAIC,WAAUqE,iBAC/C,OAAO,eACFgF,EADL,CAEEpG,e,oCAKyB,IAAjBlD,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,SACVqE,EAAcmF,KAAcxJ,GAClCiH,KAAKsC,UAAS,SAACF,EAAOD,GACpB,IAAMK,EAAYJ,EAAMpG,MAAMyG,WAAU,SAAAC,GAAE,OAAIA,EAAG5J,KAAOA,KAClDkD,EAAQoG,EAAMpG,MAAM2G,OAAOH,EAAW,GAE5C,OADAxG,EAAMgD,KAAK,CAAElG,KAAIC,WAAUqE,gBACpB,eACFgF,EADL,CAEEpG,e,kCAKOqG,GACXrC,KAAKsC,UAAS,SAACF,EAAOD,GAAR,sBACTC,EADS,CAEZC,qB,yCAIiB,IAAD,OACZlD,EH/FH,SAAyByD,GAG5B,IAFA,IAAI9E,EAAW8E,EAAaC,MAAM,GAC9BzD,EAAS,GACe,IAAnBtB,EAAQxB,QAAe,CAC5B,IAAI4B,EAASL,GAAiBC,GAE9BsB,EAAOJ,KAAKd,GACZA,EAAOJ,QAAQgF,SAAQ,SAAU/D,GAC7BjB,EAAQ6E,OAAO7E,EAAQiF,QAAQhE,GAAI,MAG3C,OAAOK,EGoFS4D,CAAgBhD,KAAKoC,MAAMpG,OAC3CgE,KAAKsC,UAAS,SAACF,EAAOD,GACpB,OAAO,eACFC,EADL,CAEEjD,eAED,kBAAM,EAAK8D,YAAY,gB,sCAGXC,EAAUrB,GACzB7B,KAAKsC,UAAS,SAACF,EAAOD,GACpB,IAAMhD,EAAUiD,EAAMjD,QAAQ0D,MAAM,GAGpC,OAFe1D,EAAQgE,MAAK,SAAAjF,GAAM,OAAIA,EAAOpF,KAAOoK,KAC7CrB,OAASA,EACT,eACFO,EADL,CAEEjD,iB,+BAMJ,OACE,yBAAK+B,UAAW,OACd,gCACE,kBAAC,KAAD,CAAQkC,SAAS,UACf,kBAACC,GAAA,EAAD,KACE,kBAAC9C,EAAA,EAAD,CAAYtG,QAAQ,MAClB,4CAMR,8BACE,kBAACqJ,EAAA,EAAD,KAC8B,UAA3BtD,KAAKoC,MAAMC,aAA4B,kBAAC,EAAD,CAAOrG,MAAOgE,KAAKoC,MAAMpG,MAAOC,QAAS+D,KAAK/D,QAAQsH,KAAKvD,MAAO9D,aAAc8D,KAAK9D,aAAaqH,KAAKvD,UAE3IA,KAAKoC,MAAMpG,MAAMM,QAAqC,UAA3B0D,KAAKoC,MAAMC,aAA4B,yBAAK1G,MAAO,CAAE2B,QAAS,OAAQE,eAAgB,SAAUC,OAAQ,SACrI,kBAACtC,EAAA,EAAD,CAAQwC,KAAK,QAAQrC,MAAM,UAAUrB,QAAS,YAAamB,QAAS4E,KAAKwD,iBAAiBD,KAAKvD,OAA/F,sBAK0B,YAA3BA,KAAKoC,MAAMC,aACZ,kBAAC,GAAD,CAASlD,QAASa,KAAKoC,MAAMjD,QAASkB,uBAAwBnB,GAAsBc,KAAKoC,MAAMjD,SAAUmB,gBAAiBN,KAAKM,gBAAgBiD,KAAKvD,e,GA9H9I5G,IAAMqK,WCFJC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA7F,GACLD,QAAQC,MAAMA,EAAM8F,a,iBE9G5BC,EAAOC,QA1BP,SAAwB9L,GAEvB,IAAI+L,EAAO,IAoBX,OAnBI/L,EAASgK,QAAQ,UAAU,IAC9B+B,GAAM,KAEH/L,EAASgK,QAAQ,UAAU,IAC9B+B,GAAM,KAEH/L,EAASgK,QAAQ,sBAAsB,IAC1C+B,GAAM,KAEH/L,EAASgK,QAAQ,kBAAkB,IACtC+B,GAAM,IAEH/L,EAASgK,QAAQ,uBAAuB,IAC3C+B,GAAM,KAEH/L,EAASgK,QAAQ,sBAAsB,IAC1C+B,EAAK,IAENA,EAAKzH,QAAQ,GACNyH,K","file":"static/js/main.9f670426.chunk.js","sourcesContent":["export const STEPS = [\n  'CASES', 'BUCKETS'\n]\n\nexport const SYMPTOMS = {\n  FEVER: 'FEVER',\n  COUGH: 'COUGH',\n  BREATHING_PROBLEM: 'BREATHING_PROBLEM',\n  CLOSE_CONTACT: 'CLOSE_CONTACT',\n  COMING_FROM_ABROAD: 'COMING_FROM_ABROAD'\n}\n","import React from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport { SYMPTOMS } from '../data'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\n\nconst SYMPTOM_NAMES = {\n  [SYMPTOMS.FEVER]: 'Fever',\n  [SYMPTOMS.COUGH]: 'Cough',\n  [SYMPTOMS.BREATHING_PROBLEM]: 'Difficulty with breathing',\n  [SYMPTOMS.COMING_FROM_ABROAD]: 'Return from Abroad',\n  [SYMPTOMS.CLOSE_CONTACT]: 'Close contact with infected person'\n}\n\nconst initialState = {\n  id: '',\n  symptoms: {\n    [SYMPTOMS.FEVER]: false,\n    [SYMPTOMS.COUGH]: false,\n    [SYMPTOMS.BREATHING_PROBLEM]: false,\n    [SYMPTOMS.COMING_FROM_ABROAD]: false,\n    [SYMPTOMS.CLOSE_CONTACT]: false\n  },\n  createNext: false\n}\nexport const NewCase = ({ open, handleClose }) => {\n  const [values, setValues] = React.useState(initialState)\n\n  const updateSymptom = symptom => () => {\n    setValues({\n      ...values,\n      symptoms:\n        {\n          ...values.symptoms,\n          [symptom]: !values.symptoms[symptom]\n        }\n    })\n  }\n\n  const updateCreateNext = () => {\n    setValues({\n      ...values,\n      createNext: !values.createNext\n    })\n  }\n\n  const updateId = (event) => {\n    setValues({ ...values, id: event.target.value })\n  }\n\n  const clearValues = () => {\n    setValues({ ...initialState, createNext: true })\n  }\n\n  const createNewCase = () => {\n    if (!values.createNext) {\n      handleClose({ close: true, values: { id: values.id, symptoms: values.symptoms } })\n    } else {\n      handleClose({ close: false, values: { id: values.id, symptoms: values.symptoms } })\n      clearValues()\n    }\n  }\n\n  const closeDialog = () => {\n    handleClose({ close: true })\n  }\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Craete new case</DialogTitle>\n      <DialogContent>\n\n        <FormGroup column>\n\n          <TextField\n            label=\"id\"\n            variant=\"outlined\"\n            onChange={updateId}\n            value={values.id}\n            required={true}\n          />\n          {\n            Object.keys(SYMPTOMS).map(symptomName =>\n              <FormControlLabel\n                key={symptomName}\n                control={<Checkbox checked={values.symptoms[symptomName]} onChange={updateSymptom(symptomName)} name={SYMPTOM_NAMES[symptomName]}/>}\n                label={SYMPTOM_NAMES[symptomName]}\n              />)\n          }\n        </FormGroup>\n\n\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeDialog} color=\"secondary\">\n          Close\n        </Button>\n        <FormControlLabel\n          control={<Checkbox checked={values.createNext} onChange={updateCreateNext} color={'secondary'}/>}\n          label=\"Create next case\"\n        />\n        <Button onClick={createNewCase} color=\"primary\" disabled={!values.id}>\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import React from 'react'\n\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport { SYMPTOMS } from '../data'\nimport { CheckCircleOutline, HighlightOff } from '@material-ui/icons'\nimport green from '@material-ui/core/colors/green'\nimport red from '@material-ui/core/colors/red'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport { NewCase } from './NewCase'\nimport Button from '@material-ui/core/Button'\n\nconst symptomOccurred = occurred => occurred ?\n  <CheckCircleOutline style={{ color: green[500] }}/> : <HighlightOff style={{ color: red[500] }}/>\n\nexport const Cases = ({ cases, addCase, addDemoCases }) => {\n  const [values, setValues] = React.useState({ newCaseModal: false })\n\n  const openModal = () => {\n    setValues({ newCaseModal: true })\n  }\n\n  const closeModal = ({ close, values }) => {\n    setValues({ newCaseModal: !close })\n    if (values) {\n      addCase({ id: values.id, symptoms: Object.keys(values.symptoms).filter(key => values.symptoms[key]) })\n    }\n  }\n\n  return (\n    <div>\n      <NewCase open={values.newCaseModal} handleClose={closeModal}/>\n      {!!cases.length && <div>\n        <TableContainer component={Paper}>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell> <b>id</b></TableCell>\n                <TableCell align=\"right\"><b>Fever</b></TableCell>\n                <TableCell align=\"right\"><b>Cough</b></TableCell>\n                <TableCell align=\"right\"><b>Difficulty with breathing</b></TableCell>\n                <TableCell align=\"right\"><b>Close contact with infected person</b></TableCell>\n                <TableCell align=\"right\"><b>Return from Abroad</b></TableCell>\n                <TableCell align=\"right\"><b>Probability</b></TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {cases.map((row) => (\n                <TableRow key={row.id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {row.id}\n                  </TableCell>\n                  <TableCell align=\"right\">{symptomOccurred(row.symptoms.includes(SYMPTOMS.FEVER))}</TableCell>\n                  <TableCell align=\"right\">{symptomOccurred(row.symptoms.includes(SYMPTOMS.COUGH))}</TableCell>\n                  <TableCell align=\"right\">{symptomOccurred(row.symptoms.includes(SYMPTOMS.BREATHING_PROBLEM))}</TableCell>\n                  <TableCell align=\"right\">{symptomOccurred(row.symptoms.includes(SYMPTOMS.CLOSE_CONTACT))}</TableCell>\n                  <TableCell align=\"right\">{symptomOccurred(row.symptoms.includes(SYMPTOMS.COMING_FROM_ABROAD))}</TableCell>\n                  <TableCell align=\"right\">{(row.probability*100).toFixed(2)}%</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <div style={{ display: 'flex', width: '100%', justifyContent: 'flex-end', margin: '16px 0' }}>\n          <Fab variant=\"extended\" style={{margin: 5}} onClick={addDemoCases}>\n            Load example cases\n          </Fab>\n          <Fab onClick={openModal}>\n            <AddIcon/>\n          </Fab>\n        </div>\n      </div>\n      }\n      {!cases.length && <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>\n        <Button size=\"large\" color=\"primary\" variant={'contained'} onClick={openModal} startIcon={<AddIcon/>}>\n          Add first case\n        </Button>\n      </div>}\n    </div>\n  )\n}\n","export function allocateSamples(samplesParam) {\n    let samples = (samplesParam.slice(0));\n    let result = [];\n    while (!(samples.length === 0)) {\n        let bucket = assignNextBucket(samples);\n\n        result.push(bucket);\n        bucket.samples.forEach(function (s) {\n            samples.splice(samples.indexOf(s), 1);\n        });\n    }\n    return result;\n}\n\nfunction assignNextBucket(samples) {\n    samples.sort(function (first, second) {\n        return first.probability < second.probability ? 1\n            : first.probability > second.probability ? -1\n                : 0;\n    });\n\n    let bucket = new Bucket();\n    let freeCapacity = findBestBucketCapacity(samples[0]);\n    for (let i = 0; i < samples.length; i++) {\n        let s = samples[i];\n        if (freeCapacity > 0) {\n            bucket.samples.push(s);\n            bucket.reverseProbability *= 1 - s.probability;\n            freeCapacity--;\n        }\n    }\n\n    bucket.probability = 1 - bucket.reverseProbability;\n\n    return bucket;\n}\n\n\nfunction findBestBucketCapacity(sample) {\n    const bucketRanges = [\n        new BucketProbabilityRange(0.306, 1, 1),\n        new BucketProbabilityRange(0.124, 0.306, 3),\n        new BucketProbabilityRange(0.066, 0.124, 4),\n        new BucketProbabilityRange(0.042, 0.066, 5),\n        new BucketProbabilityRange(0.029, 0.042, 6),\n        new BucketProbabilityRange(0.021, 0.029, 7),\n        new BucketProbabilityRange(0.016, 0.021, 8),\n        new BucketProbabilityRange(0.013, 0.016, 9),\n        new BucketProbabilityRange(0.011, 0.013, 10),\n        new BucketProbabilityRange(0.009, 0.011, 11),\n        new BucketProbabilityRange(0.007, 0.009, 12),\n        new BucketProbabilityRange(0.006, 0.007, 13),\n        new BucketProbabilityRange(0.005, 0.006, 15),\n        new BucketProbabilityRange(0.004, 0.005, 16),\n        new BucketProbabilityRange(0.003, 0.004, 19),\n        new BucketProbabilityRange(0.002, 0.003, 23),\n        new BucketProbabilityRange(0.0, 0.002, 32)\n    ];\n    for (let i = 0; i < bucketRanges.length; i++) {\n        let t = bucketRanges[i];\n        if (t.isInRange(sample.probability)) {\n            return t.bestBucketSize;\n        }\n    }\n    console.error(\"The sample probability is out of range! \" + sample.probability);\n    return 1;\n}\n\nexport function estimateNumberOfTests(buckets) {\n    let result = 0;\n    for (let i = 0; i < buckets.length; i++) {\n        result += 1;\n        if (buckets[i].samples.length > 1) {\n            result += buckets[i].probability * buckets[i].samples.length;\n        }\n    }\n    return Math.round(result);\n}\n\nconst Sample = (function () {\n    function Sample(id, p) {\n        if (this.id === undefined)\n            this.id = null;\n        if (this.probability === undefined)\n            this.probability = null;\n        this.id = id;\n        this.probability = p;\n    }\n\n    return Sample;\n}());\nSample[\"__class\"] = \"Sample\";\n\nlet numberOfAllBuckets = 0;\n\nclass Bucket {\n    id = ++numberOfAllBuckets;\n    probability = 0.0;\n    reverseProbability = 1.0;\n    samples = []\n    bucketStatus = BucketStatus.NOT_CHECKED\n}\n\nexport const BucketStatus = {\n    POSITIVE: 0,\n    NEGATIVE: 1,\n    NOT_CHECKED: 3\n}\n\nconst BucketProbabilityRange = (function () {\n    function BucketProbabilityRange(minimumm, maximum, bestBucketSize) {\n        if (this.minimum === undefined)\n            this.minimum = 0;\n        if (this.maximum === undefined)\n            this.maximum = 0;\n        if (this.bestBucketSize === undefined)\n            this.bestBucketSize = 0;\n        this.minimum = minimumm;\n        this.maximum = maximum;\n        this.bestBucketSize = bestBucketSize;\n    }\n\n    BucketProbabilityRange.prototype.isInRange = function (p) {\n        return this.minimum <= p && p < this.maximum;\n    };\n    return BucketProbabilityRange;\n}());\nBucketProbabilityRange[\"__class\"] = \"BucketProbabilityRange\";\n\n/*\n// used in allocate-samples-test.js\nmodule.exports = {\n    allocateSamples: allocateSamples,\n    estimateNumberOfTests: estimateNumberOfTests,\n    Sample: Sample,\n    Bucket: Bucket\n};\n*/\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport './Bucket.scss'\nimport Typography from '@material-ui/core/Typography'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Link from '@material-ui/core/Link'\nimport { SentimentVerySatisfied, SentimentVeryDissatisfied, HelpOutline } from '@material-ui/icons'\nimport Button from '@material-ui/core/Button'\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\nimport { BucketStatus } from '../sample-allocation/allocate-samples'\n\nexport const Buckets = ({ buckets, estimatedNumberOfTests, setBucketStatus }) => (\n  <div>\n    <Typography variant=\"h4\" style={{marginBottom: 20}}>\n      Estimated number of tests: {estimatedNumberOfTests}\n    </Typography>\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"flex-start\"\n      spacing={4}\n    >\n      {buckets.map((bucket, index) => (\n\n        <Grid item key={index}>\n          <Paper elevation={0} className={'bucket'}>\n            <Typography variant=\"h5\" component=\"h2\">\n              #{bucket.id}\n            </Typography>\n            <Typography color=\"textSecondary\">\n              Probability: {(bucket.probability * 100).toFixed(2)}%\n            </Typography>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"flex-start\"\n              alignItems=\"center\"\n              spacing={1}\n              style={{ padding: '8px 0' }}\n            >\n              {bucket.samples.map((sample) =>\n\n                <Grid item key={sample.id}>\n                  <Card className='sampleCard'>\n                    <CardContent>\n                      <Typography variant=\"h5\" component=\"h3\">\n                        <Link>{sample.id}</Link>\n                      </Typography>\n                      <Typography color=\"textSecondary\">\n                        Probability: {(sample.probability * 100).toFixed(2)}%\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              )}\n\n            </Grid>\n\n            <ButtonGroup\n              orientation=\"vertical\"\n              fullWidth\n              disableRipple\n              disableElevation\n              disableFocusRipple\n              size='small'\n            >\n              <Button\n                variant={bucket.status === BucketStatus.POSITIVE ? 'contained' : 'outlined'}\n                color={bucket.status === BucketStatus.POSITIVE ? 'primary' : 'default'}\n                startIcon={<SentimentVerySatisfied/>}\n                onClick={() => setBucketStatus(bucket.id, BucketStatus.POSITIVE)}\n\n              > No Virus </Button>\n\n              <Button\n                variant={bucket.status === BucketStatus.NEGATIVE ? 'contained' : 'outlined'}\n                color={bucket.status === BucketStatus.NEGATIVE ? 'primary' : 'default'}\n                startIcon={<SentimentVeryDissatisfied/>}\n                onClick={() => setBucketStatus(bucket.id, BucketStatus.NEGATIVE)}\n              > Virus found </Button>\n\n              <Button\n                variant={bucket.status === BucketStatus.NOT_CHECKED ? 'contained' : 'outlined'}\n                color={bucket.status === BucketStatus.NOT_CHECKED ? 'primary' : 'default'}\n                startIcon={<HelpOutline/>}\n                onClick={() => setBucketStatus(bucket.id, BucketStatus.NOT_CHECKED)}\n              > Not tested </Button>\n            </ButtonGroup>\n          </Paper>\n        </Grid>\n      ))}\n    </Grid>\n  </div>\n)\n","import { SYMPTOMS } from './data'\n\nexport const demoCases = [\n\t{\n\t\tid: 1,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 2,\n\t\tsymptoms: [SYMPTOMS.COUGH],\n\t\tprobability: 0.05\n\t},\n\t{\n\t\tid: 3,\n\t\tsymptoms: [SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER],\n\t\tprobability: 0.09\n\t},\n\t{\n\t\tid: 4,\n\t\tsymptoms: [SYMPTOMS.CLOSE_CONTACT, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.19\n\t},\n\t{\n\t\tid: 5,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.12\n\t},\n\t{\n\t\tid: 6,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.15\n\t},\n\t{\n\t\tid: 7,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 8,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 9,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 10,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER, SYMPTOMS.COMING_FROM_ABROAD, SYMPTOMS.CLOSE_CONTACT],\n\t\tprobability: 0.29\n\t},\n\t{\n\t\tid: 11,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 12,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 13,\n\t\tsymptoms: [SYMPTOMS.CLOSE_CONTACT],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 14,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 15,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 16,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 17,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.BREATHING_PROBLEM],\n\t\tprobability: 0.05\n\t},\n\t{\n\t\tid: 18,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.FEVER],\n\t\tprobability: 0.05\n\t},\n\t{\n\t\tid: 19,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 20,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 21,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 22,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 23,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 24,\n\t\tsymptoms: [SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER],\n\t\tprobability: 0.09\n\t},\n\t{\n\t\tid: 25,\n\t\tsymptoms: [SYMPTOMS.CLOSE_CONTACT, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.19\n\t},\n\t{\n\t\tid: 26,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.12\n\t},\n\t{\n\t\tid: 27,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 28,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.19\n\t},\n\t{\n\t\tid: 29,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 30,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 31,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 32,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 33,\n\t\tsymptoms: [SYMPTOMS.COUGH],\n\t\tprobability: 0.05\n\t},\n\t{\n\t\tid: 34,\n\t\tsymptoms: [SYMPTOMS.CLOSE_CONTACT],\n\t\tprobability: 0.10\n\t},\n\t{\n\t\tid: 35,\n\t\tsymptoms: [SYMPTOMS.COUGH],\n\t\tprobability: 0.05\n\t},\n\t{\n\t\tid: 36,\n\t\tsymptoms: [SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER],\n\t\tprobability: 0.09\n\t},\n\t{\n\t\tid: 37,\n\t\tsymptoms: [SYMPTOMS.CLOSE_CONTACT, SYMPTOMS.COMING_FROM_ABROAD],\n\t\tprobability: 0.19\n\t},\n\t{\n\t\tid: 38,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 39,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 40,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 41,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 42,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 43,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 44,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 45,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER, SYMPTOMS.COMING_FROM_ABROAD, SYMPTOMS.CLOSE_CONTACT],\n\t\tprobability: 0.29\n\t},\n\t{\n\t\tid: 46,\n\t\tsymptoms: [SYMPTOMS.COUGH, SYMPTOMS.FEVER, SYMPTOMS.COMING_FROM_ABROAD, SYMPTOMS.CLOSE_CONTACT],\n\t\tprobability: 0.24\n\t},\n\t{\n\t\tid: 47,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 48,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 49,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t},\n\t{\n\t\tid: 50,\n\t\tsymptoms: [],\n\t\tprobability: 0.02\n\t}\n\n]\n","import React from 'react'\nimport './App.scss'\nimport { Cases } from './cases/Cases'\nimport { SYMPTOMS } from './data'\nimport Container from '@material-ui/core/Container'\nimport { Buckets } from './buckets/Buckets'\nimport AppBar from '@material-ui/core/AppBar/AppBar'\nimport Typography from '@material-ui/core/Typography'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\nimport calculateRisk from './risk'\nimport { allocateSamples, BucketStatus, estimateNumberOfTests } from './sample-allocation/allocate-samples'\nimport { demoCases } from './demoCases'\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      currentStep: 'CASES',\n      cases: [{\n        id: 1,\n        symptoms: [],\n        probability: 0.05\n      },\n        {\n          id: 2,\n          symptoms: [SYMPTOMS.COUGH],\n          probability: 0.1\n        },\n        {\n          id: 3,\n          symptoms: [SYMPTOMS.BREATHING_PROBLEM, SYMPTOMS.FEVER],\n          probability: 0.3\n        },\n        {\n          id: 4,\n          symptoms: [SYMPTOMS.CLOSE_CONTACT, SYMPTOMS.COMING_FROM_ABROAD],\n          probability: 0.2\n        },\n        {\n          id: 5,\n          symptoms: [SYMPTOMS.COUGH, SYMPTOMS.COMING_FROM_ABROAD],\n          probability: 0.04\n        },\n        {\n          id: 6,\n          symptoms: [SYMPTOMS.COUGH, SYMPTOMS.COMING_FROM_ABROAD],\n          probability: 0.4\n        }\n      ],\n      buckets: []\n    }\n  }\n\n  addDemoCases () {\n    this.setState((state, props) => {\n      return {\n        ...state,\n        cases: demoCases\n      }\n    })\n  }\n\n  addCase ({ id, symptoms }) {\n    const probability = calculateRisk(symptoms)\n    this.setState((state, props) => {\n      const cases = [...state.cases, { id, symptoms, probability }]\n      return {\n        ...state,\n        cases\n      }\n    })\n  }\n\n  updateCase ({ id, symptoms }) {\n    const probability = calculateRisk(symptoms)\n    this.setState((state, props) => {\n      const caseIndex = state.cases.findIndex(it => it.id === id)\n      const cases = state.cases.splice(caseIndex, 1)\n      cases.push({ id, symptoms, probability })\n      return {\n        ...state,\n        cases\n      }\n    })\n  }\n\n  changeStage (currentStep) {\n    this.setState((state, props) => ({\n      ...state,\n      currentStep\n    }))\n  }\n\n  calculateBuckets () {\n    const buckets = allocateSamples(this.state.cases)\n    this.setState((state, props) => {\n      return {\n        ...state,\n        buckets\n      }\n    }, () => this.changeStage('BUCKETS'))\n  }\n\n  setBucketStatus (bucketId, status) {\n    this.setState((state, props) => {\n      const buckets = state.buckets.slice(0)\n      const bucket = buckets.find(bucket => bucket.id === bucketId)\n      bucket.status = status\n      return {\n        ...state,\n        buckets\n      }\n    })\n  }\n\n  render () {\n    return (\n      <div className={'App'}>\n        <header>\n          <AppBar position=\"static\">\n            <Toolbar>\n              <Typography variant=\"h6\">\n                <b>Covictory</b>\n              </Typography>\n            </Toolbar>\n          </AppBar>\n        </header>\n\n        <main>\n          <Container>\n            {this.state.currentStep === 'CASES' && (<Cases cases={this.state.cases} addCase={this.addCase.bind(this)} addDemoCases={this.addDemoCases.bind(this)}/>)}\n\n            {(!!this.state.cases.length && this.state.currentStep === 'CASES') && <div style={{ display: 'flex', justifyContent: 'center', margin: '16px' }}>\n              <Button size=\"large\" color=\"primary\" variant={'contained'} onClick={this.calculateBuckets.bind(this)}>\n                Calculate buckets\n              </Button>\n            </div>}\n\n            {this.state.currentStep === 'BUCKETS' &&\n            <Buckets buckets={this.state.buckets} estimatedNumberOfTests={estimateNumberOfTests(this.state.buckets)} setBucketStatus={this.setBucketStatus.bind(this)}/>}\n          </Container>\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","//this function caluclate risk of positive test on COVID from questionary\nfunction calculateRisk (symptoms) {\n\t//risk of person without symptoms and contact\n\tlet risk = 0.02\n\tif (symptoms.indexOf(\"FEVER\")>-1){\n\t\trisk+=0.02\n\t}\n\tif (symptoms.indexOf(\"COUGH\")>-1){\n\t\trisk+=0.03\n\t}\n\tif (symptoms.indexOf(\"BREATHING_PROBLEM\")>-1){\n\t\trisk+=0.05\n\t}\n\tif (symptoms.indexOf(\"CLOSE_CONTACT\")>-1){\n\t\trisk+=0.1\n\t}\n\tif (symptoms.indexOf(\"COMING_FROM_ABROAD\")>-1){\n\t\trisk+=0.07\n\t}\t\n\tif (symptoms.indexOf(\"PREVIOUS_POSITIVE\")>-1){\n\t\trisk=0.9\n\t}\t\n\trisk.toFixed(3)\n\treturn risk\n}\n\n\nmodule.exports = calculateRisk\n"],"sourceRoot":""}