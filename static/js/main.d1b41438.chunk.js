(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{109:function(e,t,a){e.exports=a(144)},114:function(e,t,a){},115:function(e,t,a){},120:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n,i,r=a(0),l=a.n(r),c=a(11),s=a.n(c),o=(a(114),a(17)),u=a(97),m=a(59),E=a(94),d=a(96),b=a(98),p=(a(115),a(70)),O=a(197),h=a(201),y=a(200),f=a(196),C=a(198),v=a(199),g=a(75),k={FEVER:"FEVER",COUGH:"COUGH",BREATHING_PROBLEM:"BREATHING_PROBLEM",CLOSE_CONTACT:"CLOSE_CONTACT",COMING_FROM_ABROAD:"COMING_FROM_ABROAD"},R=a(194),S=a(195),A=a(77),N=a.n(A),I=a(78),_=a.n(I),w=a(202),B=a(79),T=a.n(B),x=a(14),j=a(216),M=a(189),G=a(190),F=a(193),H=a(148),P=a(191),V=a(192),D=a(214),L=a(213),U=(n={},Object(x.a)(n,k.FEVER,"Fever"),Object(x.a)(n,k.COUGH,"Cough"),Object(x.a)(n,k.BREATHING_PROBLEM,"Difficulty with breathing"),Object(x.a)(n,k.COMING_FROM_ABROAD,"Return from Abroad"),Object(x.a)(n,k.CLOSE_CONTACT,"Close contact with infected person"),n),z={id:"",symptoms:(i={},Object(x.a)(i,k.FEVER,!1),Object(x.a)(i,k.COUGH,!1),Object(x.a)(i,k.BREATHING_PROBLEM,!1),Object(x.a)(i,k.COMING_FROM_ABROAD,!1),Object(x.a)(i,k.CLOSE_CONTACT,!1),i),createNext:!1},K=function(e){var t=e.open,a=e.handleClose,n=l.a.useState(z),i=Object(p.a)(n,2),r=i[0],c=i[1];return l.a.createElement(j.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},l.a.createElement(M.a,{id:"form-dialog-title"},"Craete new case"),l.a.createElement(G.a,null,l.a.createElement(P.a,{column:!0},l.a.createElement(L.a,{label:"id",variant:"outlined",onChange:function(e){c(Object(o.a)({},r,{id:e.target.value}))},value:r.id,required:!0}),Object.keys(k).map((function(e){return l.a.createElement(V.a,{key:e,control:l.a.createElement(D.a,{checked:r.symptoms[e],onChange:(t=e,function(){c(Object(o.a)({},r,{symptoms:Object(o.a)({},r.symptoms,Object(x.a)({},t,!r.symptoms[t]))}))}),name:U[e]}),label:U[e]});var t})))),l.a.createElement(F.a,null,l.a.createElement(H.a,{onClick:function(){a({close:!0})},color:"secondary"},"Close"),l.a.createElement(V.a,{control:l.a.createElement(D.a,{checked:r.createNext,onChange:function(){c(Object(o.a)({},r,{createNext:!r.createNext}))},color:"secondary"}),label:"Create next case"}),l.a.createElement(H.a,{onClick:function(){r.createNext?(a({close:!1,values:{id:r.id,symptoms:r.symptoms}}),c(Object(o.a)({},z,{createNext:!0}))):a({close:!0,values:{id:r.id,symptoms:r.symptoms}})},color:"primary",disabled:!r.id},"Create")))},W=function(e){return e?l.a.createElement(R.a,{style:{color:N.a[500]}}):l.a.createElement(S.a,{style:{color:_.a[500]}})},J=function(e){var t=e.cases,a=e.addCase,n=l.a.useState({newCaseModal:!1}),i=Object(p.a)(n,2),r=i[0],c=i[1],s=function(){c({newCaseModal:!0})};return l.a.createElement("div",null,l.a.createElement(K,{open:r.newCaseModal,handleClose:function(e){var t=e.close,n=e.values;c({newCaseModal:!t}),n&&a({id:n.id,symptoms:Object.keys(n.symptoms).filter((function(e){return n.symptoms[e]}))})}}),!!t.length&&l.a.createElement("div",null,l.a.createElement(f.a,{component:g.a},l.a.createElement(O.a,{"aria-label":"simple table"},l.a.createElement(C.a,null,l.a.createElement(v.a,null,l.a.createElement(y.a,null," ",l.a.createElement("b",null,"id")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Fever")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Cough")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Difficulty with breathing")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Close contact with infected person")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Return from Abroad")),l.a.createElement(y.a,{align:"right"},l.a.createElement("b",null,"Probability")))),l.a.createElement(h.a,null,t.map((function(e){return l.a.createElement(v.a,{key:e.id},l.a.createElement(y.a,{component:"th",scope:"row"},e.id),l.a.createElement(y.a,{align:"right"},W(e.symptoms.includes(k.FEVER))),l.a.createElement(y.a,{align:"right"},W(e.symptoms.includes(k.COUGH))),l.a.createElement(y.a,{align:"right"},W(e.symptoms.includes(k.BREATHING_PROBLEM))),l.a.createElement(y.a,{align:"right"},W(e.symptoms.includes(k.CLOSE_CONTACT))),l.a.createElement(y.a,{align:"right"},W(e.symptoms.includes(k.COMING_FROM_ABROAD))),l.a.createElement(y.a,{align:"right"},(100*e.probability).toFixed(2),"%"))}))))),l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end",margin:"16px 0"}},l.a.createElement(w.a,{onClick:s},l.a.createElement(T.a,null)))),!t.length&&l.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},l.a.createElement(H.a,{size:"large",color:"primary",variant:"contained",onClick:s,startIcon:l.a.createElement(T.a,null)},"Add first case")))},q=a(212),$=a(203),Q=(a(120),a(81)),X=a(204),Y=a(205),Z=a(206),ee=a(208),te=a(209),ae=a(210),ne=a(207);function ie(e){e.sort((function(e,t){return e.probability<t.probability?1:e.probability>t.probability?-1:0}));for(var t=new le,a=function(e){for(var t=[new se(.306,1,1),new se(.124,.306,3),new se(.066,.124,4),new se(.042,.066,5),new se(.029,.042,6),new se(.021,.029,7),new se(.016,.021,8),new se(.013,.016,9),new se(.011,.013,10),new se(.009,.011,11),new se(.007,.009,12),new se(.006,.007,13),new se(.005,.006,15),new se(.004,.005,16),new se(.003,.004,19),new se(.002,.003,23),new se(0,.002,32)],a=0;a<t.length;a++){var n=t[a];if(n.isInRange(e.probability))return n.bestBucketSize}return console.error("The sample probability is out of range! "+e.probability),1}(e[0]),n=0;n<e.length;n++){var i=e[n];a>0&&(t.samples.push(i),t.reverseProbability*=1-i.probability,a--)}return t.probability=1-t.reverseProbability,t}var re=0,le=function e(){Object(m.a)(this,e),this.id=++re,this.probability=0,this.reverseProbability=1,this.samples=[],this.bucketStatus=ce.NOT_CHECKED},ce={POSITIVE:0,NEGATIVE:1,NOT_CHECKED:3},se=function(){function e(e,t,a){void 0===this.minimum&&(this.minimum=0),void 0===this.maximum&&(this.maximum=0),void 0===this.bestBucketSize&&(this.bestBucketSize=0),this.minimum=e,this.maximum=t,this.bestBucketSize=a}return e.prototype.isInRange=function(e){return this.minimum<=e&&e<this.maximum},e}();se.__class="BucketProbabilityRange";var oe=function(e){var t=e.buckets,a=e.setBucketStatus;return l.a.createElement("div",null,l.a.createElement($.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:4},t.map((function(e,t){return l.a.createElement($.a,{item:!0,key:t},l.a.createElement(g.a,{elevation:0,className:"bucket"},l.a.createElement(Q.a,{variant:"h5",component:"h2"},"#",e.id),l.a.createElement(Q.a,{color:"textSecondary"},"Probability: ",(100*e.probability).toFixed(2),"%"),l.a.createElement($.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:1,style:{padding:"8px 0"}},e.samples.map((function(e){return l.a.createElement($.a,{item:!0,key:e.id},l.a.createElement(X.a,{className:"sampleCard"},l.a.createElement(Y.a,null,l.a.createElement(Q.a,{variant:"h5",component:"h3"},l.a.createElement(Z.a,null,e.id)),l.a.createElement(Q.a,{color:"textSecondary"},"Probability: ",(100*e.probability).toFixed(2),"%"))))}))),l.a.createElement(ne.a,{orientation:"vertical",fullWidth:!0,disableRipple:!0,disableElevation:!0,disableFocusRipple:!0,size:"small"},l.a.createElement(H.a,{variant:e.status===ce.POSITIVE?"contained":"outlined",color:e.status===ce.POSITIVE?"primary":"default",startIcon:l.a.createElement(ee.a,null),onClick:function(){return a(e.id,ce.POSITIVE)}}," No Virus "),l.a.createElement(H.a,{variant:e.status===ce.NEGATIVE?"contained":"outlined",color:e.status===ce.NEGATIVE?"primary":"default",startIcon:l.a.createElement(te.a,null),onClick:function(){return a(e.id,ce.NEGATIVE)}}," Virus found "),l.a.createElement(H.a,{variant:e.status===ce.NOT_CHECKED?"contained":"outlined",color:e.status===ce.NOT_CHECKED?"primary":"default",startIcon:l.a.createElement(ae.a,null),onClick:function(){return a(e.id,ce.NOT_CHECKED)}}," Not tested "))))}))))},ue=a(95),me=a.n(ue),Ee=a(211),de=a(80),be=a.n(de),pe=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={currentStep:"CASES",cases:[{id:1,symptoms:[],probability:.05},{id:2,symptoms:[k.COUGH],probability:.1},{id:3,symptoms:[k.BREATHING_PROBLEM,k.FEVER],probability:.3},{id:4,symptoms:[k.CLOSE_CONTACT,k.COMING_FROM_ABROAD],probability:.2},{id:5,symptoms:[k.COUGH,k.COMING_FROM_ABROAD],probability:.04},{id:6,symptoms:[k.COUGH,k.COMING_FROM_ABROAD],probability:.4}],buckets:[]},n}return Object(E.a)(a,[{key:"addCase",value:function(e){var t=e.id,a=e.symptoms,n=be()(a);this.setState((function(e,i){var r=[].concat(Object(u.a)(e.cases),[{id:t,symptoms:a,probability:n}]);return Object(o.a)({},e,{cases:r})}))}},{key:"updateCase",value:function(e){var t=e.id,a=e.symptoms,n=be()(a);this.setState((function(e,i){var r=e.cases.findIndex((function(e){return e.id===t})),l=e.cases.splice(r,1);return l.push({id:t,symptoms:a,probability:n}),Object(o.a)({},e,{cases:l})}))}},{key:"changeStage",value:function(e){this.setState((function(t,a){return Object(o.a)({},t,{currentStep:e})}))}},{key:"calculateBuckets",value:function(){var e=this,t=function(e){for(var t=e.slice(0),a=[];0!==t.length;){var n=ie(t);a.push(n),n.samples.forEach((function(e){t.splice(t.indexOf(e),1)}))}return a}(this.state.cases);this.setState((function(e,a){return Object(o.a)({},e,{buckets:t})}),(function(){return e.changeStage("BUCKETS")}))}},{key:"setBucketStatus",value:function(e,t){this.setState((function(a,n){var i=a.buckets.slice(0);return i.find((function(t){return t.id===e})).status=t,Object(o.a)({},a,{buckets:i})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement(me.a,{position:"static"},l.a.createElement(Ee.a,null,l.a.createElement(Q.a,{variant:"h6"},l.a.createElement("b",null,"Covictory"))))),l.a.createElement("main",null,l.a.createElement(q.a,null,"CASES"===this.state.currentStep&&l.a.createElement(J,{cases:this.state.cases,addCase:this.addCase.bind(this)}),!!this.state.cases.length&&"CASES"===this.state.currentStep&&l.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"16px"}},l.a.createElement(H.a,{size:"large",color:"primary",variant:"contained",onClick:this.calculateBuckets.bind(this)},"Calculate buckets")),"BUCKETS"===this.state.currentStep&&l.a.createElement(oe,{buckets:this.state.buckets,setBucketStatus:this.setBucketStatus.bind(this)}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t){e.exports=function(e){var t=.02;return e.indexOf("FEVER")>-1&&(t+=.02),e.indexOf("COUGH")>-1&&(t+=.03),e.indexOf("BREATHING_PROBLEM")>-1&&(t+=.05),e.indexOf("CLOSE_CONTACT")>-1&&(t+=.1),e.indexOf("COMING_FROM_ABROAD")>-1&&(t+=.07),e.indexOf("PREVIOUS_POSITIVE")>-1&&(t=.9),t.toFixed(3),t}}},[[109,1,2]]]);
//# sourceMappingURL=main.d1b41438.chunk.js.map