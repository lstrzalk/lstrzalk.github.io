(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{108:function(e,t,a){e.exports=a(142)},113:function(e,t,a){},114:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n,i,r=a(0),c=a.n(r),l=a(11),o=a.n(l),s=(a(113),a(18)),m=a(95),u=a(58),E=a(92),d=a(94),b=a(96),p=(a(114),a(69)),O=a(191),h=a(195),y=a(194),f=a(190),C=a(192),g=a(193),v=a(89),R={FEVER:"FEVER",COUGH:"COUGH",BREATHING_PROBLEM:"BREATHING_PROBLEM",CLOSE_CONTACT:"CLOSE_CONTACT",COMING_FROM_ABROAD:"COMING_FROM_ABROAD"},w=a(188),A=a(189),S=a(47),B=a.n(S),k=a(48),_=a.n(k),j=a(196),x=a(76),M=a.n(x),N=a(14),G=a(203),T=a(182),I=a(183),F=a(186),H=a(187),P=a(184),L=a(185),U=a(201),D=a(200),V=(n={},Object(N.a)(n,R.FEVER,"Fever"),Object(N.a)(n,R.COUGH,"Cough"),Object(N.a)(n,R.BREATHING_PROBLEM,"Difficulty with breathing"),Object(N.a)(n,R.COMING_FROM_ABROAD,"Return from Abroad"),Object(N.a)(n,R.CLOSE_CONTACT,"Close contact with infected person"),n),z={id:"",symptoms:(i={},Object(N.a)(i,R.FEVER,!1),Object(N.a)(i,R.COUGH,!1),Object(N.a)(i,R.BREATHING_PROBLEM,!1),Object(N.a)(i,R.COMING_FROM_ABROAD,!1),Object(N.a)(i,R.CLOSE_CONTACT,!1),i),createNext:!1},J=function(e){var t=e.open,a=e.handleClose,n=c.a.useState(z),i=Object(p.a)(n,2),r=i[0],l=i[1];return c.a.createElement(G.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Craete new case"),c.a.createElement(I.a,null,c.a.createElement(P.a,{column:!0},c.a.createElement(D.a,{label:"id",variant:"outlined",onChange:function(e){l(Object(s.a)({},r,{id:e.target.value}))},value:r.id,required:!0}),Object.keys(R).map((function(e){return c.a.createElement(L.a,{key:e,control:c.a.createElement(U.a,{checked:r.symptoms[e],onChange:(t=e,function(){l(Object(s.a)({},r,{symptoms:Object(s.a)({},r.symptoms,Object(N.a)({},t,!r.symptoms[t]))}))}),name:V[e]}),label:V[e]});var t})))),c.a.createElement(F.a,null,c.a.createElement(H.a,{onClick:function(){a({close:!0})},color:"secondary"},"Close"),c.a.createElement(L.a,{control:c.a.createElement(U.a,{checked:r.createNext,onChange:function(){l(Object(s.a)({},r,{createNext:!r.createNext}))},color:"secondary"}),label:"Create next case"}),c.a.createElement(H.a,{onClick:function(){r.createNext?(a({close:!1,values:{id:r.id,symptoms:r.symptoms}}),l(Object(s.a)({},z,{createNext:!0}))):a({close:!0,values:{id:r.id,symptoms:r.symptoms}})},color:"primary",disabled:!r.id},"Create")))},K=function(e){return e?c.a.createElement(w.a,{style:{color:B.a[500]}}):c.a.createElement(A.a,{style:{color:_.a[500]}})},W=function(e){var t=e.cases,a=e.addCase,n=c.a.useState({newCaseModal:!1}),i=Object(p.a)(n,2),r=i[0],l=i[1],o=function(){l({newCaseModal:!0})};return c.a.createElement("div",null,c.a.createElement(J,{open:r.newCaseModal,handleClose:function(e){var t=e.close,n=e.values;l({newCaseModal:!t}),n&&a({id:n.id,symptoms:Object.keys(n.symptoms).filter((function(e){return n.symptoms[e]}))})}}),!!t.length&&c.a.createElement("div",null,c.a.createElement(f.a,{component:v.a},c.a.createElement(O.a,{"aria-label":"simple table"},c.a.createElement(C.a,null,c.a.createElement(g.a,null,c.a.createElement(y.a,null," ",c.a.createElement("b",null,"id")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Fever")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Cough")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Difficulty with breathing")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Close contact with infected person")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Return from Abroad")),c.a.createElement(y.a,{align:"right"},c.a.createElement("b",null,"Probability")))),c.a.createElement(h.a,null,t.map((function(e){return c.a.createElement(g.a,{key:e.id},c.a.createElement(y.a,{component:"th",scope:"row"},e.id),c.a.createElement(y.a,{align:"right"},K(e.symptoms.includes(R.FEVER))),c.a.createElement(y.a,{align:"right"},K(e.symptoms.includes(R.COUGH))),c.a.createElement(y.a,{align:"right"},K(e.symptoms.includes(R.BREATHING_PROBLEM))),c.a.createElement(y.a,{align:"right"},K(e.symptoms.includes(R.CLOSE_CONTACT))),c.a.createElement(y.a,{align:"right"},K(e.symptoms.includes(R.COMING_FROM_ABROAD))),c.a.createElement(y.a,{align:"right"},e.probability,"%"))}))))),c.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end",margin:"16px 0"}},c.a.createElement(j.a,{onClick:o},c.a.createElement(M.a,null)))),!t.length&&c.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},c.a.createElement(H.a,{size:"large",color:"primary",variant:"contained",onClick:o,startIcon:c.a.createElement(M.a,null)},"Add first case")))},q=a(199),$=a(197),Q=a(98),X=function(e){var t=e.buckets;return c.a.createElement("div",null,c.a.createElement($.a,{container:!0,spacing:2,style:{margin:50}},c.a.createElement($.a,{item:!0,xs:12},c.a.createElement($.a,{container:!0,justify:"center",spacing:2},t.map((function(e){return c.a.createElement($.a,{key:e.id,item:!0},c.a.createElement(v.a,{style:{height:240,width:100,marginBottom:10}},c.a.createElement($.a,{container:!0,spacing:2,direction:"column"},c.a.createElement(Q.a,{variant:"h5",component:"h2"},"#",e.id),c.a.createElement(Q.a,{style:{marginBottom:12},color:"textSecondary"},"P: ",(100*e.probability).toFixed(2),"%"),e.samples.map((function(e){return c.a.createElement($.a,{key:e.id,item:!0},"Sample #",e.id,c.a.createElement(Q.a,{color:"textSecondary"},"P: ",(100*e.probability).toFixed(2),"%"))})))),c.a.createElement(w.a,{style:{color:B.a[500],cursor:"pointer"}}),c.a.createElement(A.a,{style:{color:_.a[500],cursor:"pointer"}}))}))))))},Y=a(93),Z=a.n(Y),ee=a(198),te=a(77),ae=a.n(te);function ne(e){e.sort((function(e,t){return e.probability<t.probability?1:e.probability>t.probability?-1:0}));for(var t=new re,a=function(e){for(var t=[new ce(.306,1,1),new ce(.124,.306,3),new ce(.066,.124,4),new ce(.042,.066,5),new ce(.029,.042,6),new ce(.021,.029,7),new ce(.016,.021,8),new ce(.013,.016,9),new ce(.011,.013,10),new ce(.009,.011,11),new ce(.007,.009,12),new ce(.006,.007,13),new ce(.005,.006,15),new ce(.004,.005,16),new ce(.003,.004,19),new ce(.002,.003,23),new ce(0,.002,32)],a=0;a<t.length;a++){var n=t[a];if(n.isInRange(e.probability))return n.bestBucketSize}return console.error("The sample probability is out of range! "+e.probability),1}(e[0]),n=0;n<e.length;n++){var i=e[n];a>0&&(t.samples.push(i),t.reverseProbability*=1-i.probability,a--)}return t.probability=1-t.reverseProbability,t}var ie=0,re=function e(){Object(u.a)(this,e),this.id=++ie,this.probability=0,this.reverseProbability=1,this.samples=[]},ce=function(){function e(e,t,a){void 0===this.minimum&&(this.minimum=0),void 0===this.maximum&&(this.maximum=0),void 0===this.bestBucketSize&&(this.bestBucketSize=0),this.minimum=e,this.maximum=t,this.bestBucketSize=a}return e.prototype.isInRange=function(e){return this.minimum<=e&&e<this.maximum},e}();ce.__class="BucketProbabilityRange";var le=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentStep:"CASES",cases:[{id:1,symptoms:[],probability:.05},{id:2,symptoms:[R.COUGH],probability:.1},{id:3,symptoms:[R.BREATHING_PROBLEM,R.FEVER],probability:.3},{id:4,symptoms:[R.CLOSE_CONTACT,R.COMING_FROM_ABROAD],probability:.2},{id:5,symptoms:[R.COUGH,R.COMING_FROM_ABROAD],probability:.04},{id:6,symptoms:[R.COUGH,R.COMING_FROM_ABROAD],probability:.4}],buckets:[]},n}return Object(E.a)(a,[{key:"addCase",value:function(e){var t=e.id,a=e.symptoms,n=ae()(a);this.setState((function(e,i){var r=[].concat(Object(m.a)(e.cases),[{id:t,symptoms:a,probability:n}]);return Object(s.a)({},e,{cases:r})}))}},{key:"updateCase",value:function(e){var t=e.id,a=e.symptoms,n=ae()(a);this.setState((function(e,i){var r=e.cases.findIndex((function(e){return e.id===t})),c=e.cases.splice(r,1);return c.push({id:t,symptoms:a,probability:n}),Object(s.a)({},e,{cases:c})}))}},{key:"changeStage",value:function(e){this.setState((function(t,a){return Object(s.a)({},t,{currentStep:e})}))}},{key:"calculateBuckets",value:function(){var e=this,t=function(e){for(var t=e.slice(0),a=[];0!==t.length;){var n=ne(t);a.push(n),n.samples.forEach((function(e){t.splice(t.indexOf(e),1)}))}return a}(this.state.cases);this.setState((function(e,a){return Object(s.a)({},e,{buckets:t})}),(function(){return e.changeStage("BUCKETS")}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement(Z.a,{position:"static"},c.a.createElement(ee.a,null,c.a.createElement(Q.a,{variant:"h6"},"Coronadvisor")))),c.a.createElement("main",null,c.a.createElement(q.a,null,"CASES"===this.state.currentStep&&c.a.createElement(W,{cases:this.state.cases,addCase:this.addCase.bind(this)}),!!this.state.cases.length&&"CASES"===this.state.currentStep&&c.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"16px"}},c.a.createElement(H.a,{size:"large",color:"primary",variant:"contained",onClick:this.calculateBuckets.bind(this)},"Calculate buckets")),"BUCKETS"===this.state.currentStep&&c.a.createElement(X,{buckets:this.state.buckets}))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t){e.exports=function(e){var t=.02;return e.indexOf("FEVER")>-1&&(t+=.02),e.indexOf("COUGH")>-1&&(t+=.03),e.indexOf("BREATHING_PROBLEM")>-1&&(t+=.05),e.indexOf("CLOSE_CONTACT")>-1&&(t+=.1),e.indexOf("COMING_FROM_ABROAD")>-1&&(t+=.07),e.indexOf("PREVIOUS_POSITIVE")>-1&&(t=.9),t.toFixed(3),t}}},[[108,1,2]]]);
//# sourceMappingURL=main.bdd29e11.chunk.js.map